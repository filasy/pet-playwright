services:
  tests:
    build:
      dockerfile: Dockerfile
      context: .
    working_dir: /tests
    image: playwright-tests
    volumes:
      - .:/tests
      - node_modules:/tests/node_modules
    command: npx playwright test
    environment:
      - LOGIN=${LOGIN}
      - PASSWORD=${PASSWORD}
      - PROXY_IP=${PROXY_IP}
      - PROXY_LOGIN=${PROXY_LOGIN}
      - PROXY_PASSWORD=${PROXY_PASSWORD}
volumes:
  node_modules:
